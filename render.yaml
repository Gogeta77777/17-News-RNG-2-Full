services:
  - type: web
    name: 17-news-rng-2
    env: node
    plan: free
    
    # Build command
    buildCommand: npm install
    
    # Start command - explicit and clean
    startCommand: node index.js
    
    # Environment variables
    envVars:
      - key: NODE_ENV
        value: production
      - key: RENDER
        value: "true"
    
    # Auto-deploy from git
    autoDeployOnPush: true
    
    # Health check configuration
    healthCheckPath: /health
    healthCheckTimeout: 30
    maxShutdownDelay: 30
    
    # Build Filter
    buildFilter:
      paths:
        - "index.js"
        - "index.html"
        - "package.json"
        - "package-lock.json"
        - "multiplayer.js"
